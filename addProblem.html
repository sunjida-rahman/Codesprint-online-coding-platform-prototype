<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Problem</title>
  <link rel="stylesheet" href="/frontend/src/assets/styles/main.css">
</head>
<body>
  <div class="container mt-4">
    <h2>➕ Add New Problem</h2>
    <form id="addProblemForm">
      <!-- Problem Details -->
      <div class="form-group mb-2">
        <label for="title">Problem Title</label>
        <input type="text" id="title" class="form-control" required>
      </div>

      <div class="form-group mb-2">
        <label for="statement">Statement</label>
        <textarea id="statement" class="form-control" rows="5" required></textarea>
      </div>

      <div class="form-group mb-2">
        <label for="input_format">Input Format</label>
        <textarea id="input_format" class="form-control" rows="2" required></textarea>
      </div>

      <div class="form-group mb-2">
        <label for="output_format">Output Format</label>
        <textarea id="output_format" class="form-control" rows="2" required></textarea>
      </div>

      <!-- Visible Samples -->
      <div id="samplesContainer">
        <h4>Samples (visible to all)</h4>
        <div class="sample-group">
          <label>Sample Input</label>
          <textarea class="form-control sample-input" rows="2" required></textarea>
          <label>Sample Output</label>
          <textarea class="form-control sample-output" rows="2" required></textarea>
        </div>
      </div>
      <button type="button" id="addSampleBtn" class="btn btn-secondary mb-2">➕ Add Sample</button>

      <!-- Hidden Testcases -->
      <div id="hiddenContainer">
        <h4>Hidden Testcases (for judges/admin only)</h4>
        <div class="hidden-group">
          <label>Hidden Input</label>
          <textarea class="form-control hidden-input" rows="2"></textarea>
          <label>Hidden Output</label>
          <textarea class="form-control hidden-output" rows="2"></textarea>
        </div>
      </div>
      <button type="button" id="addHiddenBtn" class="btn btn-secondary mb-2">➕ Add Hidden Testcase</button>

      <!-- Difficulty -->
      <div class="form-group mb-2">
        <label for="difficulty">Difficulty</label>
        <select id="difficulty" class="form-control">
          <option value="Easy">Easy</option>
          <option value="Medium">Medium</option>
          <option value="Hard">Hard</option>
        </select>
      </div>

      <!-- Alias, Points, Order Index -->
      <div class="form-group mb-2">
        <label for="alias">Alias</label>
        <input type="text" id="alias" class="form-control" placeholder="A, B, C..." required>
      </div>

      <div class="form-group mb-2">
        <label for="points">Points</label>
        <input type="number" id="points" class="form-control" value="100">
      </div>

      <div class="form-group mb-2">
        <label for="order_index">Order Index</label>
        <input type="number" id="order_index" class="form-control" value="0">
      </div>

      <!-- Optional: Time Limit & Memory Limit -->
      <div class="form-group mb-2">
        <label for="time_limit_ms">Time Limit (ms)</label>
        <input type="number" id="time_limit_ms" class="form-control" value="2000">
      </div>

      <div class="form-group mb-2">
        <label for="memory_limit_kb">Memory Limit (KB)</label>
        <input type="number" id="memory_limit_kb" class="form-control" value="262144">
      </div>

      <button type="submit" class="btn btn-success">Add Problem</button>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="addProblem.js"></script>

  <script>
    // Dynamic visible samples
    document.getElementById("addSampleBtn").addEventListener("click", () => {
      const container = document.getElementById("samplesContainer");
      const div = document.createElement("div");
      div.className = "sample-group";
      div.innerHTML = `
        <label>Sample Input</label>
        <textarea class="form-control sample-input" rows="2" required></textarea>
        <label>Sample Output</label>
        <textarea class="form-control sample-output" rows="2" required></textarea>
      `;
      container.appendChild(div);
    });

    // Dynamic hidden testcases
    document.getElementById("addHiddenBtn").addEventListener("click", () => {
      const container = document.getElementById("hiddenContainer");
      const div = document.createElement("div");
      div.className = "hidden-group";
      div.innerHTML = `
        <label>Hidden Input</label>
        <textarea class="form-control hidden-input" rows="2"></textarea>
        <label>Hidden Output</label>
        <textarea class="form-control hidden-output" rows="2"></textarea>
      `;
      container.appendChild(div);
    });
  </script>
</body>
</html>
